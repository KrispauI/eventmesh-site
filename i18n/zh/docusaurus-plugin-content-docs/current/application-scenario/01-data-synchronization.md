# 数据同步

*   **应用场景名称**

&emsp;&emsp;**数据同步**
 

*   **应用场景描述**

&emsp;&emsp;大型企业的中心数据管理平台通常连接着多个业务系统，上游业务系统需要将数据分发给多个下游业务系统，各业务系统也均有可能会进行异步的数据变更、增加与删除等操作，所以需要进行数据同步。传统的数据同步方式通常采用消息队列或请求/应答模式，但这两种方式都有局限性：消息队列方式难以切分不同业务单位的数据，数据管理上存在痛点；而请求/应答模式对中心数据管理平台的性能影响较大，耦合性高，影响系统的升级与维护。

&emsp;&emsp;因此需要引入EventMesh，通过基于事件驱动架构（EDA）进行用户数据同步，数据管理中心只需将数据变更信息分别发布到不同的事件源。各业务系统通过配置事件目标并订阅相关事件源来实现数据同步。在订阅过程中，各业务系统可以绑定相应的转换规则（用于数据的拆分和脱敏处理）和过滤规则，从而实现系统架构的解耦。
  
*   **应用场景实施方案**

&emsp;&emsp;在数据同步场景下，吉利汽车基于EventMesh进行了落地实践，构建了事件集成平台。以吉利汽车的用户中心系统为例，企业内部大部分业务系统在集成用户中心后，会进行用户数据本地缓存；而各业务系统会对用户数据进行高频次的异步修改，产生了数据同步的需求。

<div align="center">
<img src="/images/application-scenario/s1_img1.png" width="80%" />
</div>

&emsp;&emsp;吉利汽车基于 EventMesh 构建的事件集成平台，让用户中心基于事件驱动架构，能够以“事件”的方式发布用户数据的新增和变更信息，而各个业务系统订阅事件源以获取所需的用户数据更新。例如，财务系统可能只对用户的支付信息变更感兴趣，而客服系统则关心用户联系方式的更新。

&emsp;&emsp;而为了处理不同业务系统对用户数据的个性化需求，平台基于EventMesh 的filter\transformer能力，配置事件源的转换与过滤规则，业务系统订阅事件源来进行用户数据拆分和脱敏处理。不仅解耦了业务系统与用户中心之间的直接交互，还减少了用户中心性能负载。

&emsp;&emsp; 为了保证高性能和高可用性，吉利汽车的事件集成平台面向各个业务区域的数据，采用了多地域、多集群的跨云架构进行部署。不同业务系统可以跨区域、跨集群、跨云消费事件，实现数据访问和同步，确保数据同步的延迟最小化，并且在高并发环境下仍能保持系统的稳定运行。

*   **参考资料**

&emsp;&emsp;[CommunityOverCode Asia 2024 会议演讲《Apache EventMesh事件网格助力构建事件平台》 ](https://asia.communityovercode.org/)

&emsp;&emsp;[吉利汽车如何基于EventMesh落地事件集成平台，助力业务高效集成](https://mp.weixin.qq.com/s/BLHbIq5KyjnhoVlmw9_DBw)